{"uid":"567cf302e7bad650","name":"test_build_with_activate_does_activate","fullName":"tests.test_api_build#test_build_with_activate_does_activate","historyId":"574b6dfbccd7437492e0ab28d439ba60","time":{"start":1673041397736,"stop":1673041420419,"duration":22683},"status":"skipped","statusMessage":"XFAIL Long PATHs make activation fail with obscure messages\n\nsubprocess.CalledProcessError: Command '['cmd.exe', '/d', '/c', 'conda_build.bat']' returned non-zero exit status 1.","statusTrace":"Traceback (most recent call last):\n  File \"D:\\a\\conda-build\\conda-build\\tests\\test_api_build.py\", line 256, in test_build_with_activate_does_activate\n    api.build(os.path.join(metadata_dir, '_set_env_var_activate_build'), activate=True,\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\api.py\", line 180, in build\n    return build_tree(\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\build.py\", line 3077, in build_tree\n    packages_from_this = build(metadata, stats,\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\build.py\", line 2165, in build\n    windows.build(m, build_file, stats=build_stats, provision_only=provision_only)\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\windows.py\", line 305, in build\n    check_call_env(cmd, cwd=m.config.work_dir, stats=stats, rewrite_stdout_env=rewrite_env)\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\utils.py\", line 402, in check_call_env\n    return _func_defaulting_env_to_os_environ('call', *popenargs, **kwargs)\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\utils.py\", line 382, in _func_defaulting_env_to_os_environ\n    raise subprocess.CalledProcessError(proc.returncode, _args)\nsubprocess.CalledProcessError: Command '['cmd.exe', '/d', '/c', 'conda_build.bat']' returned non-zero exit status 1.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1673038518359,"stop":1673038518359,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"monkeypatch","time":{"start":1673041397736,"stop":1673041397736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"tmpdir","time":{"start":1673041397736,"stop":1673041397736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"testing_workdir","time":{"start":1673041397736,"stop":1673041397736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"default_testing_config","time":{"start":1673041397736,"stop":1673041397736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"testing_config","time":{"start":1673041397736,"stop":1673041397736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"tmp_path","time":{"start":1673041397736,"stop":1673041397736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Long PATHs make activation fail with obscure messages\n\nsubprocess.CalledProcessError: Command '['cmd.exe', '/d', '/c', 'conda_build.bat']' returned non-zero exit status 1.","statusTrace":"Traceback (most recent call last):\n  File \"D:\\a\\conda-build\\conda-build\\tests\\test_api_build.py\", line 256, in test_build_with_activate_does_activate\n    api.build(os.path.join(metadata_dir, '_set_env_var_activate_build'), activate=True,\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\api.py\", line 180, in build\n    return build_tree(\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\build.py\", line 3077, in build_tree\n    packages_from_this = build(metadata, stats,\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\build.py\", line 2165, in build\n    windows.build(m, build_file, stats=build_stats, provision_only=provision_only)\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\windows.py\", line 305, in build\n    check_call_env(cmd, cwd=m.config.work_dir, stats=stats, rewrite_stdout_env=rewrite_env)\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\utils.py\", line 402, in check_call_env\n    return _func_defaulting_env_to_os_environ('call', *popenargs, **kwargs)\n  File \"D:\\a\\conda-build\\conda-build\\conda_build\\utils.py\", line 382, in _func_defaulting_env_to_os_environ\n    raise subprocess.CalledProcessError(proc.returncode, _args)\nsubprocess.CalledProcessError: Command '['cmd.exe', '/d', '/c', 'conda_build.bat']' returned non-zero exit status 1.","steps":[],"attachments":[{"uid":"7466d6111b5f9c10","name":"log","source":"7466d6111b5f9c10.txt","type":"text/plain","size":290},{"uid":"f458e1d4904e269c","name":"stdout","source":"f458e1d4904e269c.txt","type":"text/plain","size":12402}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"monkeypatch::0","time":{"start":1673041420435,"stop":1673041420435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"testing_workdir::return_to_saved_path","time":{"start":1673041420435,"stop":1673041420435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"tag","value":"@pytest.mark.xfail(True, reason='Long PATHs make activation fail with obscure messages')"},{"name":"tag","value":"serial"},{"name":"tag","value":"sanity"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_api_build"},{"name":"host","value":"fv-az34-189"},{"name":"thread","value":"6292-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_api_build"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["serial","sanity","@pytest.mark.xfail(True, reason='Long PATHs make activation fail with obscure messages')"]},"source":"567cf302e7bad650.json","parameterValues":[]}